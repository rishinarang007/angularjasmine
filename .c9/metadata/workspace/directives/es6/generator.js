{"filter":false,"title":"generator.js","tooltip":"/directives/es6/generator.js","undoManager":{"mark":3,"position":3,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":20,"column":0},"action":"insert","lines":["let numbers = function*(start, end){","\t\t","  for(let i=start; i <= end; i++){","    ","    console.log(i)","  \t\t","    yield i;","  }","\t","};","","","var sum = 0;","","for(let n of numbers(1,5)){","\t\t","  sum += n;","  console.log(\"next\")","","}",""]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":0},"end":{"row":21,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":0},"end":{"row":22,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":0},"end":{"row":132,"column":3},"action":"insert","lines":["describe(\"generators\", function(){","","\tit(\"can build an iterable\", function(){","","\t\tlet numbers = function*(start, end) {","\t\t\tfor(let i = start; i <= end; i++) {","","\t\t\t\tyield i;","\t\t\t}","\t\t};","","\t\tlet sum = 0;\t\t","\t\tfor(let n of numbers(1,5)){","\t\t\tsum += n;","\t\t}","\t\t","\t\texpect(sum).toBe(15);","\t});","","\tit(\"can be built by implementing Symbol.iterator\", function(){","","\t\tclass Company {\t","\t\t\tconstructor() {","\t\t\t\tthis.employees = [];","\t\t\t}","\t\t\t","\t\t\taddEmployees(...names) {","\t\t\t\tthis.employees = this.employees.concat(names);","\t\t\t}\t","\t\t\t*[Symbol.iterator]() {","\t\t\t\tfor(let e of this.employees) {","\t\t\t\t\t//console.log(e);","\t\t\t\t\tyield e;","\t\t\t\t}","\t\t\t}","\t\t}","","\t\tlet filter = function*(items, predicate) {","\t\t\tfor(let item of items) {","\t\t\t\t//console.log(\"filter\", item);","\t\t\t\tif(predicate(item)) {","\t\t\t\t\tyield item;","\t\t\t\t}","\t\t\t}\t\t\t","\t\t}","","\t\tlet take = function*(items, number) {","\t\t\tlet count = 0;","\t\t\tif(number < 1) return;","\t\t\tfor(let item of items) {","\t\t\t\t//console.log(\"take\", item);","\t\t\t\tyield item;","\t\t\t\tcount += 1;","\t\t\t\tif(count >= number) {","\t\t\t\t\treturn;","\t\t\t\t}","\t\t\t}","\t\t}","","\t\tlet count = 0;","\t\tlet company = new Company();","\t\tcompany.addEmployees(\"Tim\", \"Sue\", \"Joy\", \"Tom\");","","\t\tfor(let employee of take(filter(company, e => e[0] == 'T'),1)) {","\t\t\tcount += 1;","\t\t}","","\t\texpect(count).toBe(1);","\t});","","\tit(\"can take a parameter from next(param)\", function() {","","\t\tlet range = function*(start, end) {","\t\t\tlet current = start;","\t\t\twhile(current <= end) {","\t\t\t\tlet delta = yield current;","\t\t\t\tcurrent += delta || 1;\t\t\t","\t\t\t}","\t\t}","","\t\tlet range2 = function(start, end) {","\t\t\tlet current = start;","\t\t\tlet first = true;","\t\t\treturn {","\t\t\t\tnext(delta = 1) {","\t\t\t\t\tlet result = { value: undefined, done: true };","\t\t\t\t\tif(!first) {","\t\t\t\t\t\tcurrent += delta;","\t\t\t\t\t}","\t\t\t\t\tif(current <= end) {","\t\t\t\t\t\tresult.value = current;","\t\t\t\t\t\tresult.done = false;\t\t\t\t\t\t","\t\t\t\t\t}","\t\t\t\t\tfirst = false;","\t\t\t\t\treturn result;","\t\t\t\t}","\t\t\t}","\t\t}","","\t\tlet result = [];","\t\tlet iterator = range2(1,10);","\t\tlet next = iterator.next();","\t\twhile(!next.done) {","\t\t\tresult.push(next.value);","\t\t\tnext = iterator.next(2);","\t\t}","","\t\texpect(result).toEqual([1, 3, 5, 7, 9]);","\t});","","});"]}]}]]},"ace":{"folds":[],"scrolltop":334.5,"scrollleft":0,"selection":{"start":{"row":85,"column":27},"end":{"row":85,"column":60},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":43,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1424075874584,"hash":"0fa0677be7189bdea1f7ee6283f93d57566804fb"}